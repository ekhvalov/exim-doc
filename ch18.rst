
.. _ch18_00:

Маршрутизатор **ipliteral**
===========================

Этот маршрутизатор не имеет собственных параметров. Если он не используется исключительно для проверки (см. параметр **verify_only**), то для него при помощи общего параметра **transport** должен быть определен необходимый транспорт. Маршрутизатор принимает адрес, если его доменная часть соответствует требованиям :rfc:`2822`, т.е. имеет форму IP-адреса, заключенного в квадратные скобки. Например, этот маршрутизатор обрабатывает адрес

::

    root@[192.168.1.1]

путем доставки узлу с этим IP-адресом. Адрес IPv6 похож, но ему (адресу) предшествует “ipv6:”.

::

    postmaster@[ipv6:fe80::a00:20ff:fe86:a061.5678]

Exim позволяет писать “ipv4:” перед адресом IPv4 для совместимости, и на том основании, что рано или поздно кто-то попробует так написать.

Если IP-адрес попадает в список IP-адресов, указанных в параметре **ignore_target_hosts**, то маршрутизатор отклоняется. Если IP в доменной части адреса указывает на локальную машину, то дальнейший исход определяется общим параметром **self**. 

Документы RFC требуют поддержки domain literals; однако их использование спорно в современном Интернете. Если вы хотите использовать этот маршрутизатор, то вы также должны определить параметр главной конфигурации **allow_domain_literals**. В противном случае, Exim не распознает domain literal синтаксис в адресах.
